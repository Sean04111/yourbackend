import{a as $,r as n,o as S,z as B,b as p,c as m,f as L,v as I,e,g as y,h as z,t as h,F,i as V,u as r,_ as E,y as H,c4 as O}from"./index.2b950906.js";import{E as P,a as T}from"./el-skeleton-item.b0567a7c.js";import{m as j,b as U,u as q}from"./index.3c8d6064.js";import{_ as w}from"./lodash.467b4ce8.js";import"./size.4b7247cf.js";const G={class:"list-title"},J=["onClick"],K=["title"],Q=$({__name:"userLikesList",setup(b){var u={articaName:"\u8FD8\u6CA1\u6709\u70B9\u8D5E\u8FC7\u6587\u7AE0\u54E6~",articalLink:"#",articalImgLink:"",articalID:-1};const t=n([]),_=n(null);t.value=[];const v=n(0),a=n(0),d=n(0),g=43.3,k=n(!1),l=n(!1),o=n(!0);function i(s){window.open(s.articalLink,"_blank")}S(()=>{j().then(s=>{t.value=[],s.status==0?t.value=s.dataLikes:t.value.push(u),o.value=!1},s=>{u.articaName="\u7F51\u7EDC\u95EE\u9898\uFF0C\u6CA1\u6709\u66F4\u591A\u6570\u636E",t.value.push(u)})});let f=B(()=>Math.ceil(v.value/g));S(()=>{v.value=document.body.clientHeight,a.value=0,d.value=a.value+f.value});function D(){let s=Math.floor(_.value.scrollTop);a.value=Math.floor(s/g),d.value=a.value+f.value,d.value-t.value.length>0&&M()}const M=w.throttle(function(){!k.value&&!l.value&&(l.value=!0,U({num:t.value.length}).then(s=>{s.status==0?(t.value=t.value.concat(s.dataLikes),l.value=!1):(t.value.push(u),l.value=!1),s.status==3&&(k.value=!0,l.value=!1)},s=>{console.log(s.message),l.value=!1}))},500,{trailing:!1}),x=w.throttle(function(){D()},16.7,{trailing:!1});return(s,C)=>{const N=P,A=T;return p(),m(F,null,[L(e("div",null,[y(A,{direction:"vertical",alignment:"flex-start"},{default:z(()=>[y(N,{style:{width:"400px","text-align":"left"},loading:o.value,animated:"",rows:6},null,8,["loading"])]),_:1})],512),[[I,o.value]]),L(e("div",G,[e("h4",null,h(s.$t("likes")),1)],512),[[I,!o.value]]),L(e("div",{class:"outsideLike",onScroll:C[0]||(C[0]=(...c)=>r(x)&&r(x)(...c)),ref_key:"myList",ref:_},[e("ul",null,[(p(!0),m(F,null,V(t.value,c=>(p(),m("li",{key:c.articalID,onClick:ce=>i(c)},[e("div",{title:c.articaName,class:"title"},[e("span",null,h(c.articaName),1)],8,K)],8,J))),128))])],544),[[I,!o.value]])],64)}}});const R=E(Q,[["__scopeId","data-v-dac98865"]]),W={class:"outside"},X={class:"inside"},Y=["src"],Z={class:"basic-info"},ee={class:"user-title"},te={class:"user-job"},se={class:"user-setting"},ae=$({__name:"basicInfo",setup(b){O(o=>({"9d745568":r(_)}));const u=H(),t=q();var _=n("1s"),v,a=1;S(()=>{t.getBaseInfo()});function d(){a==1&&(v=setInterval(()=>{g()},20))}function g(){a>.1&&(a=a-.004,_.value=String(a)+"s")}function k(){a=1,a==1&&clearInterval(v)}function l(){u.routerPath="myinfo/setting"}return(o,i)=>(p(),m("div",W,[e("div",X,[e("div",{class:"img-icon",onMouseenter:i[0]||(i[0]=f=>d()),onMouseleave:i[1]||(i[1]=f=>k())},[e("img",{src:r(t).avatarLink,alt:"",class:"avatar"},null,8,Y)],32),e("div",Z,[e("div",ee,[e("h2",null,h(r(t).name),1)]),e("div",te,h(r(t).profession),1),e("div",se,[e("button",{onClick:i[2]||(i[2]=f=>l())},h(o.$t("editInfo")),1)])])])]))}});const ne=E(ae,[["__scopeId","data-v-7a412016"]]),le={class:"flex-info"},oe={class:"basic-info"},ie={class:"like-list"},ue=$({__name:"myinfo",setup(b){return(u,t)=>(p(),m("div",le,[e("header",oe,[y(ne)]),e("section",ie,[y(R)])]))}});const pe=E(ue,[["__scopeId","data-v-79924e82"]]);export{pe as default};
