import{z as f,O as ot,P as rt,r as O,Q as Oe,A as st,R as re,S as Ne,U as it,V as se,a as He,W as lt,X as ut,D as je,Y as ie,Z as ct,$ as pt,a0 as dt,a1 as ft,a2 as ht,w as le,a3 as k,a4 as Fe,o as vt,a5 as yt,f as gt,v as mt,b as d,c as S,q as h,F as ue,I as y,u as r,J as X,e as z,n as w,h as R,a6 as Y,E as H,a7 as ce,g as bt,a8 as St,L as wt,a9 as _t,t as Z,K as xt,H as Ct,aa as It,ab as Ae,N as Et}from"./index.2b950906.js";import{u as $t,a as Pt,b as Tt,c as zt,d as Ot}from"./index.6f56d4cc.js";var Nt=typeof global=="object"&&global&&global.Object===Object&&global;const jt=Nt;var Ft=typeof self=="object"&&self&&self.Object===Object&&self,At=jt||Ft||Function("return this")();const fe=At;var Mt=fe.Symbol;const N=Mt;var Le=Object.prototype,Vt=Le.hasOwnProperty,Dt=Le.toString,L=N?N.toStringTag:void 0;function kt(e){var t=Vt.call(e,L),n=e[L];try{e[L]=void 0;var o=!0}catch{}var s=Dt.call(e);return o&&(t?e[L]=n:delete e[L]),s}var Rt=Object.prototype,Ht=Rt.toString;function Lt(e){return Ht.call(e)}var Bt="[object Null]",Kt="[object Undefined]",Me=N?N.toStringTag:void 0;function Be(e){return e==null?e===void 0?Kt:Bt:Me&&Me in Object(e)?kt(e):Lt(e)}function Ut(e){return e!=null&&typeof e=="object"}var Gt="[object Symbol]";function he(e){return typeof e=="symbol"||Ut(e)&&Be(e)==Gt}function Wt(e,t){for(var n=-1,o=e==null?0:e.length,s=Array(o);++n<o;)s[n]=t(e[n],n,e);return s}var Xt=Array.isArray;const ve=Xt;var Yt=1/0,Ve=N?N.prototype:void 0,De=Ve?Ve.toString:void 0;function Ke(e){if(typeof e=="string")return e;if(ve(e))return Wt(e,Ke)+"";if(he(e))return De?De.call(e):"";var t=e+"";return t=="0"&&1/e==-Yt?"-0":t}function Ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zt="[object AsyncFunction]",Jt="[object Function]",qt="[object GeneratorFunction]",Qt="[object Proxy]";function ea(e){if(!Ue(e))return!1;var t=Be(e);return t==Jt||t==qt||t==Zt||t==Qt}var ta=fe["__core-js_shared__"];const pe=ta;var ke=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function aa(e){return!!ke&&ke in e}var na=Function.prototype,oa=na.toString;function ra(e){if(e!=null){try{return oa.call(e)}catch{}try{return e+""}catch{}}return""}var sa=/[\\^$.*+?()[\]{}|]/g,ia=/^\[object .+?Constructor\]$/,la=Function.prototype,ua=Object.prototype,ca=la.toString,pa=ua.hasOwnProperty,da=RegExp("^"+ca.call(pa).replace(sa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fa(e){if(!Ue(e)||aa(e))return!1;var t=ea(e)?da:ia;return t.test(ra(e))}function ha(e,t){return e==null?void 0:e[t]}function Ge(e,t){var n=ha(e,t);return fa(n)?n:void 0}function va(e,t){return e===t||e!==e&&t!==t}var ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ga=/^\w*$/;function ma(e,t){if(ve(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||he(e)?!0:ga.test(e)||!ya.test(e)||t!=null&&e in Object(t)}var ba=Ge(Object,"create");const B=ba;function Sa(){this.__data__=B?B(null):{},this.size=0}function wa(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _a="__lodash_hash_undefined__",xa=Object.prototype,Ca=xa.hasOwnProperty;function Ia(e){var t=this.__data__;if(B){var n=t[e];return n===_a?void 0:n}return Ca.call(t,e)?t[e]:void 0}var Ea=Object.prototype,$a=Ea.hasOwnProperty;function Pa(e){var t=this.__data__;return B?t[e]!==void 0:$a.call(t,e)}var Ta="__lodash_hash_undefined__";function za(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=B&&t===void 0?Ta:t,this}function I(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}I.prototype.clear=Sa;I.prototype.delete=wa;I.prototype.get=Ia;I.prototype.has=Pa;I.prototype.set=za;function Oa(){this.__data__=[],this.size=0}function J(e,t){for(var n=e.length;n--;)if(va(e[n][0],t))return n;return-1}var Na=Array.prototype,ja=Na.splice;function Fa(e){var t=this.__data__,n=J(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():ja.call(t,n,1),--this.size,!0}function Aa(e){var t=this.__data__,n=J(t,e);return n<0?void 0:t[n][1]}function Ma(e){return J(this.__data__,e)>-1}function Va(e,t){var n=this.__data__,o=J(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function j(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}j.prototype.clear=Oa;j.prototype.delete=Fa;j.prototype.get=Aa;j.prototype.has=Ma;j.prototype.set=Va;var Da=Ge(fe,"Map");const ka=Da;function Ra(){this.size=0,this.__data__={hash:new I,map:new(ka||j),string:new I}}function Ha(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function q(e,t){var n=e.__data__;return Ha(t)?n[typeof t=="string"?"string":"hash"]:n.map}function La(e){var t=q(this,e).delete(e);return this.size-=t?1:0,t}function Ba(e){return q(this,e).get(e)}function Ka(e){return q(this,e).has(e)}function Ua(e,t){var n=q(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function E(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}E.prototype.clear=Ra;E.prototype.delete=La;E.prototype.get=Ba;E.prototype.has=Ka;E.prototype.set=Ua;var Ga="Expected a function";function ye(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ga);var n=function(){var o=arguments,s=t?t.apply(this,o):o[0],l=n.cache;if(l.has(s))return l.get(s);var u=e.apply(this,o);return n.cache=l.set(s,u)||l,u};return n.cache=new(ye.Cache||E),n}ye.Cache=E;var Wa=500;function Xa(e){var t=ye(e,function(o){return n.size===Wa&&n.clear(),o}),n=t.cache;return t}var Ya=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Za=/\\(\\)?/g,Ja=Xa(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ya,function(n,o,s,l){t.push(s?l.replace(Za,"$1"):o||n)}),t});const qa=Ja;function Qa(e){return e==null?"":Ke(e)}function en(e,t){return ve(e)?e:ma(e,t)?[e]:qa(Qa(e))}var tn=1/0;function an(e){if(typeof e=="string"||he(e))return e;var t=e+"";return t=="0"&&1/e==-tn?"-0":t}function nn(e,t){t=en(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[an(t[n++])];return n&&n==o?e:void 0}function xn(e,t,n){var o=e==null?void 0:nn(e,t);return o===void 0?n:o}const de="update:modelValue",Cn="change",In="input",on=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),rn=["class","style"],sn=/^on[A-Z]/,ln=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,o=f(()=>((n==null?void 0:n.value)||[]).concat(rn)),s=rt();return s?f(()=>{var l;return ot(Object.entries((l=s.proxy)==null?void 0:l.$attrs).filter(([u])=>!o.value.includes(u)&&!(t&&sn.test(u))))}):f(()=>({}))};function un(e){const t=O();function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:l,value:u}=e.value;if(s==null||l==null)return;const g=u.slice(0,Math.max(0,s)),p=u.slice(Math.max(0,l));t.value={selectionStart:s,selectionEnd:l,value:u,beforeTxt:g,afterTxt:p}}function o(){if(e.value==null||t.value==null)return;const{value:s}=e.value,{beforeTxt:l,afterTxt:u,selectionStart:g}=t.value;if(l==null||u==null||g==null)return;let p=s.length;if(s.endsWith(u))p=s.length-u.length;else if(s.startsWith(l))p=l.length;else{const v=l[g-1],_=s.indexOf(v,g-1);_!==-1&&(p=_+1)}e.value.setSelectionRange(p,p)}return[n,o]}let m;const cn=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,pn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function dn(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:pn.map(u=>`${u}:${t.getPropertyValue(u)}`).join(";"),paddingSize:o,borderSize:s,boxSizing:n}}function Re(e,t=1,n){var o;m||(m=document.createElement("textarea"),document.body.appendChild(m));const{paddingSize:s,borderSize:l,boxSizing:u,contextStyle:g}=dn(e);m.setAttribute("style",`${g};${cn}`),m.value=e.value||e.placeholder||"";let p=m.scrollHeight;const v={};u==="border-box"?p=p+l:u==="content-box"&&(p=p-s),m.value="";const _=m.scrollHeight-s;if(Oe(t)){let b=_*t;u==="border-box"&&(b=b+s+l),p=Math.max(b,p),v.minHeight=`${b}px`}if(Oe(n)){let b=_*n;u==="border-box"&&(b=b+s+l),p=Math.min(b,p)}return v.height=`${p}px`,(o=m.parentNode)==null||o.removeChild(m),m=void 0,v}const fn=st({id:{type:String,default:void 0},size:$t,disabled:Boolean,modelValue:{type:re([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:re([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ne},prefixIcon:{type:Ne},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:re([Object,Array,String]),default:()=>it({})}}),hn={[de]:e=>se(e),input:e=>se(e),change:e=>se(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},vn=["role"],yn=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],gn=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],mn=He({name:"ElInput",inheritAttrs:!1}),bn=He({...mn,props:fn,emits:hn,setup(e,{expose:t,emit:n}){const o=e,s=lt(),l=ut(),u=f(()=>{const a={};return o.containerRole==="combobox"&&(a["aria-haspopup"]=s["aria-haspopup"],a["aria-owns"]=s["aria-owns"],a["aria-expanded"]=s["aria-expanded"]),a}),g=ln({excludeKeys:f(()=>Object.keys(u.value))}),{form:p,formItem:v}=Pt(),{inputId:_}=Tt(o,{formItemContext:v}),b=zt(),$=Ot(),i=je("input"),ge=je("textarea"),K=ie(),P=ie(),F=O(!1),Q=O(!1),A=O(!1),U=O(!1),me=O(),ee=ie(o.inputStyle),M=f(()=>K.value||P.value),be=f(()=>{var a;return(a=p==null?void 0:p.statusIcon)!=null?a:!1}),V=f(()=>(v==null?void 0:v.validateState)||""),Se=f(()=>V.value&&ct[V.value]),We=f(()=>U.value?pt:dt),Xe=f(()=>[s.style,o.inputStyle]),we=f(()=>[o.inputStyle,ee.value,{resize:o.resize}]),x=f(()=>ft(o.modelValue)?"":String(o.modelValue)),G=f(()=>o.clearable&&!$.value&&!o.readonly&&!!x.value&&(F.value||Q.value)),te=f(()=>o.showPassword&&!$.value&&!o.readonly&&!!x.value&&(!!x.value||F.value)),T=f(()=>o.showWordLimit&&!!g.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!$.value&&!o.readonly&&!o.showPassword),ae=f(()=>Array.from(x.value).length),Ye=f(()=>!!T.value&&ae.value>Number(g.value.maxlength)),Ze=f(()=>!!l.suffix||!!o.suffixIcon||G.value||o.showPassword||T.value||!!V.value&&be.value),[Je,qe]=un(K);ht(P,a=>{if(!T.value||o.resize!=="both")return;const c=a[0],{width:C}=c.contentRect;me.value={right:`calc(100% - ${C+15+6}px)`}});const W=()=>{const{type:a,autosize:c}=o;if(!(!It||a!=="textarea"))if(c){const C=Ae(c)?c.minRows:void 0,oe=Ae(c)?c.maxRows:void 0;ee.value={...Re(P.value,C,oe)}}else ee.value={minHeight:Re(P.value).minHeight}},D=()=>{const a=M.value;!a||a.value===x.value||(a.value=x.value)},ne=async a=>{Je();let{value:c}=a.target;if(o.formatter&&(c=o.parser?o.parser(c):c,c=o.formatter(c)),!A.value){if(c===x.value){D();return}n(de,c),n("input",c),await k(),D(),qe()}},_e=a=>{n("change",a.target.value)},xe=a=>{n("compositionstart",a),A.value=!0},Ce=a=>{var c;n("compositionupdate",a);const C=(c=a.target)==null?void 0:c.value,oe=C[C.length-1]||"";A.value=!on(oe)},Ie=a=>{n("compositionend",a),A.value&&(A.value=!1,ne(a))},Qe=()=>{U.value=!U.value,Ee()},Ee=async()=>{var a;await k(),(a=M.value)==null||a.focus()},et=()=>{var a;return(a=M.value)==null?void 0:a.blur()},$e=a=>{F.value=!0,n("focus",a)},Pe=a=>{var c;F.value=!1,n("blur",a),o.validateEvent&&((c=v==null?void 0:v.validate)==null||c.call(v,"blur").catch(C=>Fe()))},tt=a=>{Q.value=!1,n("mouseleave",a)},at=a=>{Q.value=!0,n("mouseenter",a)},Te=a=>{n("keydown",a)},nt=()=>{var a;(a=M.value)==null||a.select()},ze=()=>{n(de,""),n("change",""),n("clear"),n("input","")};return le(()=>o.modelValue,()=>{var a;k(()=>W()),o.validateEvent&&((a=v==null?void 0:v.validate)==null||a.call(v,"change").catch(c=>Fe()))}),le(x,()=>D()),le(()=>o.type,async()=>{await k(),D(),W()}),vt(()=>{!o.formatter&&o.parser,D(),k(W)}),t({input:K,textarea:P,ref:M,textareaStyle:we,autosize:yt(o,"autosize"),focus:Ee,blur:et,select:nt,clear:ze,resizeTextarea:W}),(a,c)=>gt((d(),S("div",ce(r(u),{class:[a.type==="textarea"?r(ge).b():r(i).b(),r(i).m(r(b)),r(i).is("disabled",r($)),r(i).is("exceed",r(Ye)),{[r(i).b("group")]:a.$slots.prepend||a.$slots.append,[r(i).bm("group","append")]:a.$slots.append,[r(i).bm("group","prepend")]:a.$slots.prepend,[r(i).m("prefix")]:a.$slots.prefix||a.prefixIcon,[r(i).m("suffix")]:a.$slots.suffix||a.suffixIcon||a.clearable||a.showPassword,[r(i).bm("suffix","password-clear")]:r(G)&&r(te)},a.$attrs.class],style:r(Xe),role:a.containerRole,onMouseenter:at,onMouseleave:tt}),[h(" input "),a.type!=="textarea"?(d(),S(ue,{key:0},[h(" prepend slot "),a.$slots.prepend?(d(),S("div",{key:0,class:y(r(i).be("group","prepend"))},[X(a.$slots,"prepend")],2)):h("v-if",!0),z("div",{class:y([r(i).e("wrapper"),r(i).is("focus",F.value)])},[h(" prefix slot "),a.$slots.prefix||a.prefixIcon?(d(),S("span",{key:0,class:y(r(i).e("prefix"))},[z("span",{class:y(r(i).e("prefix-inner"))},[X(a.$slots,"prefix"),a.prefixIcon?(d(),w(r(H),{key:0,class:y(r(i).e("icon"))},{default:R(()=>[(d(),w(Y(a.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),z("input",ce({id:r(_),ref_key:"input",ref:K,class:r(i).e("inner")},r(g),{type:a.showPassword?U.value?"text":"password":a.type,disabled:r($),formatter:a.formatter,parser:a.parser,readonly:a.readonly,autocomplete:a.autocomplete,tabindex:a.tabindex,"aria-label":a.label,placeholder:a.placeholder,style:a.inputStyle,form:o.form,onCompositionstart:xe,onCompositionupdate:Ce,onCompositionend:Ie,onInput:ne,onFocus:$e,onBlur:Pe,onChange:_e,onKeydown:Te}),null,16,yn),h(" suffix slot "),r(Ze)?(d(),S("span",{key:1,class:y(r(i).e("suffix"))},[z("span",{class:y(r(i).e("suffix-inner"))},[!r(G)||!r(te)||!r(T)?(d(),S(ue,{key:0},[X(a.$slots,"suffix"),a.suffixIcon?(d(),w(r(H),{key:0,class:y(r(i).e("icon"))},{default:R(()=>[(d(),w(Y(a.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),r(G)?(d(),w(r(H),{key:1,class:y([r(i).e("icon"),r(i).e("clear")]),onMousedown:wt(r(_t),["prevent"]),onClick:ze},{default:R(()=>[bt(r(St))]),_:1},8,["class","onMousedown"])):h("v-if",!0),r(te)?(d(),w(r(H),{key:2,class:y([r(i).e("icon"),r(i).e("password")]),onClick:Qe},{default:R(()=>[(d(),w(Y(r(We))))]),_:1},8,["class"])):h("v-if",!0),r(T)?(d(),S("span",{key:3,class:y(r(i).e("count"))},[z("span",{class:y(r(i).e("count-inner"))},Z(r(ae))+" / "+Z(r(g).maxlength),3)],2)):h("v-if",!0),r(V)&&r(Se)&&r(be)?(d(),w(r(H),{key:4,class:y([r(i).e("icon"),r(i).e("validateIcon"),r(i).is("loading",r(V)==="validating")])},{default:R(()=>[(d(),w(Y(r(Se))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),a.$slots.append?(d(),S("div",{key:1,class:y(r(i).be("group","append"))},[X(a.$slots,"append")],2)):h("v-if",!0)],64)):(d(),S(ue,{key:1},[h(" textarea "),z("textarea",ce({id:r(_),ref_key:"textarea",ref:P,class:r(ge).e("inner")},r(g),{tabindex:a.tabindex,disabled:r($),readonly:a.readonly,autocomplete:a.autocomplete,style:r(we),"aria-label":a.label,placeholder:a.placeholder,form:o.form,onCompositionstart:xe,onCompositionupdate:Ce,onCompositionend:Ie,onInput:ne,onFocus:$e,onBlur:Pe,onChange:_e,onKeydown:Te}),null,16,gn),r(T)?(d(),S("span",{key:0,style:xt(me.value),class:y(r(i).e("count"))},Z(r(ae))+" / "+Z(r(g).maxlength),7)):h("v-if",!0)],64))],16,vn)),[[mt,a.type!=="hidden"]])}});var Sn=Ct(bn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const En=Et(Sn);export{Cn as C,En as E,In as I,j as L,E as M,N as S,de as U,Ut as a,on as b,he as c,Ue as d,va as e,Ge as f,xn as g,ea as h,ve as i,Be as j,jt as k,ka as l,en as m,an as n,fe as r,ra as t};
