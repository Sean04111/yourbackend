import{al as Ue,A as we,Q as W,a1 as be,a as J,D as Se,r as q,ag as Ae,z as _,cE as ke,w as re,o as Ce,ah as nt,b as y,c as T,f as ce,u as t,I as P,x as de,g as $,h as se,n as j,ar as at,cF as st,E as me,q as X,cG as ot,cx as it,L as ye,H as Pe,V as fe,a4 as Ve,N as Me,R as ve,as as He,aB as rt,ae as ut,a3 as _e,Y as ct,ao as dt,ac as mt,ad as je,ak as Be,e as h,t as Z,ap as vt,K as ie,az as ft,af as pt,F as ge,i as Ne,S as Ye,cf as Ee,G as ht,a6 as Te,aI as gt,P as bt,cH as Oe,d as yt,cI as Vt,cJ as _t,cK as wt,cL as St,_ as ze,cM as kt,cN as It,v as Ie,p as Nt,l as Et}from"./index.2b950906.js";import{E as Ct,n as Pt}from"./normalTools.722804e2.js";import"./el-overlay.f71cb0d8.js";import{C as ue,I as ne,U as G,E as Ge}from"./el-input.ef3567cd.js";import{E as Je}from"./el-button.50aa5d4d.js";import{h as Tt,a as $t,u as Bt}from"./index.3c8d6064.js";import{d as Xe,i as xt}from"./validator.34d07d43.js";import{u as xe,a as Fe,c as Ke,d as Qe,b as Ze}from"./index.6f56d4cc.js";import{u as Lt}from"./index.fc7ea59d.js";import{u as De}from"./index.d64f457b.js";import"./size.4b7247cf.js";const et=Symbol("sliderContextKey"),At=100,Mt=600,We={beforeMount(e,l){const i=l.value,{interval:n=At,delay:m=Mt}=Ue(i)?{}:i;let u,c;const r=()=>Ue(i)?i():i.handler(),f=()=>{c&&(clearTimeout(c),c=void 0),u&&(clearInterval(u),u=void 0)};e.addEventListener("mousedown",s=>{s.button===0&&(f(),r(),document.addEventListener("mouseup",()=>f(),{once:!0}),c=setTimeout(()=>{u=setInterval(()=>{r()},n)},m))})}},zt=we({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:xe,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||W(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Ft={[ue]:(e,l)=>e!==l,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[ne]:e=>W(e)||be(e),[G]:e=>W(e)||be(e)},Kt=["aria-label","onKeydown"],Rt=["aria-label","onKeydown"],Ut=J({name:"ElInputNumber"}),Yt=J({...Ut,props:zt,emits:Ft,setup(e,{expose:l,emit:i}){const n=e,{t:m}=De(),u=Se("input-number"),c=q(),r=Ae({currentValue:n.modelValue,userInput:null}),{formItem:f}=Fe(),s=_(()=>W(n.modelValue)&&B(n.modelValue,-1)<n.min),g=_(()=>W(n.modelValue)&&B(n.modelValue)>n.max),d=_(()=>{const a=F(n.step);return ke(n.precision)?Math.max(F(n.modelValue),a):(a>n.precision,n.precision)}),N=_(()=>n.controls&&n.controlsPosition==="right"),p=Ke(),E=Qe(),U=_(()=>{if(r.userInput!==null)return r.userInput;let a=r.currentValue;if(be(a))return"";if(W(a)){if(Number.isNaN(a))return"";ke(n.precision)||(a=a.toFixed(n.precision))}return a}),k=(a,v)=>{if(ke(v)&&(v=d.value),v===0)return Math.round(a);let I=String(a);const C=I.indexOf(".");if(C===-1||!I.replace(".","").split("")[C+v])return a;const R=I.length;return I.charAt(R-1)==="5"&&(I=`${I.slice(0,Math.max(0,R-1))}6`),Number.parseFloat(Number(I).toFixed(v))},F=a=>{if(be(a))return 0;const v=a.toString(),I=v.indexOf(".");let C=0;return I!==-1&&(C=v.length-I-1),C},B=(a,v=1)=>W(a)?k(a+n.step*v):r.currentValue,Y=()=>{if(n.readonly||E.value||g.value)return;const a=n.modelValue||0,v=B(a);V(v),i(ne,r.currentValue)},M=()=>{if(n.readonly||E.value||s.value)return;const a=n.modelValue||0,v=B(a,-1);V(v),i(ne,r.currentValue)},o=(a,v)=>{const{max:I,min:C,step:z,precision:K,stepStrictly:R,valueOnClear:O}=n;let L=Number(a);if(be(a)||Number.isNaN(L))return null;if(a===""){if(O===null)return null;L=fe(O)?{min:C,max:I}[O]:O}return R&&(L=k(Math.round(L/z)*z,K)),ke(K)||(L=k(L,K)),(L>I||L<C)&&(L=L>I?I:C,v&&i(G,L)),L},V=a=>{var v;const I=r.currentValue,C=o(a);I!==C&&(r.userInput=null,i(G,C),i(ue,C,I),n.validateEvent&&((v=f==null?void 0:f.validate)==null||v.call(f,"change").catch(z=>Ve())),r.currentValue=C)},D=a=>{r.userInput=a,i(ne,a===""?null:Number(a))},Q=a=>{const v=a!==""?Number(a):"";(W(v)&&!Number.isNaN(v)||a==="")&&V(v),r.userInput=null},ee=()=>{var a,v;(v=(a=c.value)==null?void 0:a.focus)==null||v.call(a)},ae=()=>{var a,v;(v=(a=c.value)==null?void 0:a.blur)==null||v.call(a)},S=a=>{i("focus",a)},x=a=>{var v;i("blur",a),n.validateEvent&&((v=f==null?void 0:f.validate)==null||v.call(f,"blur").catch(I=>Ve()))};return re(()=>n.modelValue,a=>{r.currentValue=o(a,!0),r.userInput=null},{immediate:!0}),Ce(()=>{var a;const{min:v,max:I,modelValue:C}=n,z=(a=c.value)==null?void 0:a.input;if(z.setAttribute("role","spinbutton"),Number.isFinite(I)?z.setAttribute("aria-valuemax",String(I)):z.removeAttribute("aria-valuemax"),Number.isFinite(v)?z.setAttribute("aria-valuemin",String(v)):z.removeAttribute("aria-valuemin"),z.setAttribute("aria-valuenow",String(r.currentValue)),z.setAttribute("aria-disabled",String(E.value)),!W(C)&&C!=null){let K=Number(C);Number.isNaN(K)&&(K=null),i(G,K)}}),nt(()=>{var a;const v=(a=c.value)==null?void 0:a.input;v==null||v.setAttribute("aria-valuenow",`${r.currentValue}`)}),l({focus:ee,blur:ae}),(a,v)=>(y(),T("div",{class:P([t(u).b(),t(u).m(t(p)),t(u).is("disabled",t(E)),t(u).is("without-controls",!a.controls),t(u).is("controls-right",t(N))]),onDragstart:v[0]||(v[0]=ye(()=>{},["prevent"]))},[a.controls?ce((y(),T("span",{key:0,role:"button","aria-label":t(m)("el.inputNumber.decrease"),class:P([t(u).e("decrease"),t(u).is("disabled",t(s))]),onKeydown:de(M,["enter"])},[$(t(me),null,{default:se(()=>[t(N)?(y(),j(t(at),{key:0})):(y(),j(t(st),{key:1}))]),_:1})],42,Kt)),[[t(We),M]]):X("v-if",!0),a.controls?ce((y(),T("span",{key:1,role:"button","aria-label":t(m)("el.inputNumber.increase"),class:P([t(u).e("increase"),t(u).is("disabled",t(g))]),onKeydown:de(Y,["enter"])},[$(t(me),null,{default:se(()=>[t(N)?(y(),j(t(ot),{key:0})):(y(),j(t(it),{key:1}))]),_:1})],42,Rt)),[[t(We),Y]]):X("v-if",!0),$(t(Ge),{id:a.id,ref_key:"input",ref:c,type:"number",step:a.step,"model-value":t(U),placeholder:a.placeholder,readonly:a.readonly,disabled:t(E),size:t(p),max:a.max,min:a.min,name:a.name,label:a.label,"validate-event":!1,onKeydown:[de(ye(Y,["prevent"]),["up"]),de(ye(M,["prevent"]),["down"])],onBlur:x,onFocus:S,onInput:D,onChange:Q},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Ot=Pe(Yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Xt=Me(Ot),Wt=we({modelValue:{type:ve([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:xe,inputSize:xe,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ve(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ve(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:He,default:"top"},marks:{type:ve(Object)},validateEvent:{type:Boolean,default:!0}}),$e=e=>W(e)||rt(e)&&e.every(W),qt={[G]:$e,[ne]:$e,[ue]:$e},Ht=(e,l,i)=>{const n=q();return Ce(async()=>{e.range?(Array.isArray(e.modelValue)?(l.firstValue=Math.max(e.min,e.modelValue[0]),l.secondValue=Math.min(e.max,e.modelValue[1])):(l.firstValue=e.min,l.secondValue=e.max),l.oldValue=[l.firstValue,l.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?l.firstValue=e.min:l.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),l.oldValue=l.firstValue),ut(window,"resize",i),await _e(),i()}),{sliderWrapper:n}},jt=e=>_(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((i,n)=>i-n).filter(i=>i<=e.max&&i>=e.min).map(i=>({point:i,position:(i-e.min)*100/(e.max-e.min),mark:e.marks[i]})):[]),Gt=(e,l,i)=>{const{form:n,formItem:m}=Fe(),u=ct(),c=q(),r=q(),f={firstButton:c,secondButton:r},s=_(()=>e.disabled||(n==null?void 0:n.disabled)||!1),g=_(()=>Math.min(l.firstValue,l.secondValue)),d=_(()=>Math.max(l.firstValue,l.secondValue)),N=_(()=>e.range?`${100*(d.value-g.value)/(e.max-e.min)}%`:`${100*(l.firstValue-e.min)/(e.max-e.min)}%`),p=_(()=>e.range?`${100*(g.value-e.min)/(e.max-e.min)}%`:"0%"),E=_(()=>e.vertical?{height:e.height}:{}),U=_(()=>e.vertical?{height:N.value,bottom:p.value}:{width:N.value,left:p.value}),k=()=>{u.value&&(l.sliderSize=u.value[`client${e.vertical?"Height":"Width"}`])},F=S=>{const x=e.min+S*(e.max-e.min)/100;if(!e.range)return c;let a;return Math.abs(g.value-x)<Math.abs(d.value-x)?a=l.firstValue<l.secondValue?"firstButton":"secondButton":a=l.firstValue>l.secondValue?"firstButton":"secondButton",f[a]},B=S=>{const x=F(S);return x.value.setPosition(S),x},Y=S=>{l.firstValue=S,o(e.range?[g.value,d.value]:S)},M=S=>{l.secondValue=S,e.range&&o([g.value,d.value])},o=S=>{i(G,S),i(ne,S)},V=async()=>{await _e(),i(ue,e.range?[g.value,d.value]:e.modelValue)},D=S=>{var x,a,v,I,C,z;if(s.value||l.dragging)return;k();let K=0;if(e.vertical){const R=(v=(a=(x=S.touches)==null?void 0:x.item(0))==null?void 0:a.clientY)!=null?v:S.clientY;K=(u.value.getBoundingClientRect().bottom-R)/l.sliderSize*100}else{const R=(z=(C=(I=S.touches)==null?void 0:I.item(0))==null?void 0:C.clientX)!=null?z:S.clientX,O=u.value.getBoundingClientRect().left;K=(R-O)/l.sliderSize*100}if(!(K<0||K>100))return B(K)};return{elFormItem:m,slider:u,firstButton:c,secondButton:r,sliderDisabled:s,minValue:g,maxValue:d,runwayStyle:E,barStyle:U,resetSize:k,setPosition:B,emitChange:V,onSliderWrapperPrevent:S=>{var x,a;(((x=f.firstButton.value)==null?void 0:x.dragging)||((a=f.secondButton.value)==null?void 0:a.dragging))&&S.preventDefault()},onSliderClick:S=>{D(S)&&V()},onSliderDown:async S=>{const x=D(S);x&&(await _e(),x.value.onButtonDown(S))},setFirstValue:Y,setSecondValue:M}},{left:Jt,down:Qt,right:Zt,up:Dt,home:el,end:tl,pageUp:ll,pageDown:nl}=dt,al=(e,l,i)=>{const n=q(),m=q(!1),u=_(()=>l.value instanceof Function),c=_(()=>u.value&&l.value(e.modelValue)||e.modelValue),r=Xe(()=>{i.value&&(m.value=!0)},50),f=Xe(()=>{i.value&&(m.value=!1)},50);return{tooltip:n,tooltipVisible:m,formatValue:c,displayTooltip:r,hideTooltip:f}},sl=(e,l,i)=>{const{disabled:n,min:m,max:u,step:c,showTooltip:r,precision:f,sliderSize:s,formatTooltip:g,emitChange:d,resetSize:N,updateDragging:p}=mt(et),{tooltip:E,tooltipVisible:U,formatValue:k,displayTooltip:F,hideTooltip:B}=al(e,g,r),Y=q(),M=_(()=>`${(e.modelValue-m.value)/(u.value-m.value)*100}%`),o=_(()=>e.vertical?{bottom:M.value}:{left:M.value}),V=()=>{l.hovering=!0,F()},D=()=>{l.hovering=!1,l.dragging||B()},Q=b=>{n.value||(b.preventDefault(),K(b),window.addEventListener("mousemove",R),window.addEventListener("touchmove",R),window.addEventListener("mouseup",O),window.addEventListener("touchend",O),window.addEventListener("contextmenu",O),Y.value.focus())},ee=b=>{n.value||(l.newPosition=Number.parseFloat(M.value)+b/(u.value-m.value)*100,L(l.newPosition),d())},ae=()=>{ee(-c.value)},S=()=>{ee(c.value)},x=()=>{ee(-c.value*4)},a=()=>{ee(c.value*4)},v=()=>{n.value||(L(0),d())},I=()=>{n.value||(L(100),d())},C=b=>{let A=!0;[Jt,Qt].includes(b.key)?ae():[Zt,Dt].includes(b.key)?S():b.key===el?v():b.key===tl?I():b.key===nl?x():b.key===ll?a():A=!1,A&&b.preventDefault()},z=b=>{let A,te;return b.type.startsWith("touch")?(te=b.touches[0].clientY,A=b.touches[0].clientX):(te=b.clientY,A=b.clientX),{clientX:A,clientY:te}},K=b=>{l.dragging=!0,l.isClick=!0;const{clientX:A,clientY:te}=z(b);e.vertical?l.startY=te:l.startX=A,l.startPosition=Number.parseFloat(M.value),l.newPosition=l.startPosition},R=b=>{if(l.dragging){l.isClick=!1,F(),N();let A;const{clientX:te,clientY:oe}=z(b);e.vertical?(l.currentY=oe,A=(l.startY-l.currentY)/s.value*100):(l.currentX=te,A=(l.currentX-l.startX)/s.value*100),l.newPosition=l.startPosition+A,L(l.newPosition)}},O=()=>{l.dragging&&(setTimeout(()=>{l.dragging=!1,l.hovering||B(),l.isClick||L(l.newPosition),d()},0),window.removeEventListener("mousemove",R),window.removeEventListener("touchmove",R),window.removeEventListener("mouseup",O),window.removeEventListener("touchend",O),window.removeEventListener("contextmenu",O))},L=async b=>{if(b===null||Number.isNaN(+b))return;b<0?b=0:b>100&&(b=100);const A=100/((u.value-m.value)/c.value);let oe=Math.round(b/A)*A*(u.value-m.value)*.01+m.value;oe=Number.parseFloat(oe.toFixed(f.value)),oe!==e.modelValue&&i(G,oe),!l.dragging&&e.modelValue!==l.oldValue&&(l.oldValue=e.modelValue),await _e(),l.dragging&&F(),E.value.updatePopper()};return re(()=>l.dragging,b=>{p(b)}),{disabled:n,button:Y,tooltip:E,tooltipVisible:U,showTooltip:r,wrapperStyle:o,formatValue:k,handleMouseEnter:V,handleMouseLeave:D,onButtonDown:Q,onKeyDown:C,setPosition:L}},ol=(e,l,i,n)=>({stops:_(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const c=(e.max-e.min)/e.step,r=100*e.step/(e.max-e.min),f=Array.from({length:c-1}).map((s,g)=>(g+1)*r);return e.range?f.filter(s=>s<100*(i.value-e.min)/(e.max-e.min)||s>100*(n.value-e.min)/(e.max-e.min)):f.filter(s=>s>100*(l.firstValue-e.min)/(e.max-e.min))}),getStopStyle:c=>e.vertical?{bottom:`${c}%`}:{left:`${c}%`}}),il=(e,l,i,n,m,u)=>{const c=s=>{m(G,s),m(ne,s)},r=()=>e.range?![i.value,n.value].every((s,g)=>s===l.oldValue[g]):e.modelValue!==l.oldValue,f=()=>{var s,g;if(e.min>e.max){je("Slider","min should not be greater than max.");return}const d=e.modelValue;e.range&&Array.isArray(d)?d[1]<e.min?c([e.min,e.min]):d[0]>e.max?c([e.max,e.max]):d[0]<e.min?c([e.min,d[1]]):d[1]>e.max?c([d[0],e.max]):(l.firstValue=d[0],l.secondValue=d[1],r()&&(e.validateEvent&&((s=u==null?void 0:u.validate)==null||s.call(u,"change").catch(N=>Ve())),l.oldValue=d.slice())):!e.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<e.min?c(e.min):d>e.max?c(e.max):(l.firstValue=d,r()&&(e.validateEvent&&((g=u==null?void 0:u.validate)==null||g.call(u,"change").catch(N=>Ve())),l.oldValue=d)))};f(),re(()=>l.dragging,s=>{s||f()}),re(()=>e.modelValue,(s,g)=>{l.dragging||Array.isArray(s)&&Array.isArray(g)&&s.every((d,N)=>d===g[N])&&l.firstValue===s[0]&&l.secondValue===s[1]||f()},{deep:!0}),re(()=>[e.min,e.max],()=>{f()})},rl=we({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:He,default:"top"}}),ul={[G]:e=>W(e)},cl=["tabindex"],dl=J({name:"ElSliderButton"}),ml=J({...dl,props:rl,emits:ul,setup(e,{expose:l,emit:i}){const n=e,m=Se("slider"),u=Ae({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{disabled:c,button:r,tooltip:f,showTooltip:s,tooltipVisible:g,wrapperStyle:d,formatValue:N,handleMouseEnter:p,handleMouseLeave:E,onButtonDown:U,onKeyDown:k,setPosition:F}=sl(n,u,i),{hovering:B,dragging:Y}=Be(u);return l({onButtonDown:U,onKeyDown:k,setPosition:F,hovering:B,dragging:Y}),(M,o)=>(y(),T("div",{ref_key:"button",ref:r,class:P([t(m).e("button-wrapper"),{hover:t(B),dragging:t(Y)}]),style:ie(t(d)),tabindex:t(c)?-1:0,onMouseenter:o[0]||(o[0]=(...V)=>t(p)&&t(p)(...V)),onMouseleave:o[1]||(o[1]=(...V)=>t(E)&&t(E)(...V)),onMousedown:o[2]||(o[2]=(...V)=>t(U)&&t(U)(...V)),onTouchstart:o[3]||(o[3]=(...V)=>t(U)&&t(U)(...V)),onFocus:o[4]||(o[4]=(...V)=>t(p)&&t(p)(...V)),onBlur:o[5]||(o[5]=(...V)=>t(E)&&t(E)(...V)),onKeydown:o[6]||(o[6]=(...V)=>t(k)&&t(k)(...V))},[$(t(vt),{ref_key:"tooltip",ref:f,visible:t(g),placement:M.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":M.tooltipClass,disabled:!t(s),persistent:""},{content:se(()=>[h("span",null,Z(t(N)),1)]),default:se(()=>[h("div",{class:P([t(m).e("button"),{hover:t(B),dragging:t(Y)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,cl))}});var qe=Pe(ml,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const vl=we({mark:{type:ve([String,Object]),default:void 0}});var fl=J({name:"ElSliderMarker",props:vl,setup(e){const l=Se("slider"),i=_(()=>fe(e.mark)?e.mark:e.mark.label),n=_(()=>fe(e.mark)?void 0:e.mark.style);return()=>ft("div",{class:l.e("marks-text"),style:n.value},i.value)}});const pl=["id","role","aria-label","aria-labelledby"],hl={key:1},gl=J({name:"ElSlider"}),bl=J({...gl,props:Wt,emits:qt,setup(e,{expose:l,emit:i}){const n=e,m=Se("slider"),{t:u}=De(),c=Ae({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:r,slider:f,firstButton:s,secondButton:g,sliderDisabled:d,minValue:N,maxValue:p,runwayStyle:E,barStyle:U,resetSize:k,emitChange:F,onSliderWrapperPrevent:B,onSliderClick:Y,onSliderDown:M,setFirstValue:o,setSecondValue:V}=Gt(n,c,i),{stops:D,getStopStyle:Q}=ol(n,c,N,p),{inputId:ee,isLabeledByFormItem:ae}=Ze(n,{formItemContext:r}),S=Ke(),x=_(()=>n.inputSize||S.value),a=_(()=>n.label||u("el.slider.defaultLabel",{min:n.min,max:n.max})),v=_(()=>n.range?n.rangeStartLabel||u("el.slider.defaultRangeStartLabel"):a.value),I=_(()=>n.formatValueText?n.formatValueText(b.value):`${b.value}`),C=_(()=>n.rangeEndLabel||u("el.slider.defaultRangeEndLabel")),z=_(()=>n.formatValueText?n.formatValueText(A.value):`${A.value}`),K=_(()=>[m.b(),m.m(S.value),m.is("vertical",n.vertical),{[m.m("with-input")]:n.showInput}]),R=jt(n);il(n,c,N,p,i,r);const O=_(()=>{const w=[n.min,n.max,n.step].map(le=>{const pe=`${le}`.split(".")[1];return pe?pe.length:0});return Math.max.apply(null,w)}),{sliderWrapper:L}=Ht(n,c,k),{firstValue:b,secondValue:A,sliderSize:te}=Be(c),oe=w=>{c.dragging=w};return pt(et,{...Be(n),sliderSize:te,disabled:d,precision:O,emitChange:F,resetSize:k,updateDragging:oe}),l({onSliderClick:Y}),(w,le)=>{var pe,Re;return y(),T("div",{id:w.range?t(ee):void 0,ref_key:"sliderWrapper",ref:L,class:P(t(K)),role:w.range?"group":void 0,"aria-label":w.range&&!t(ae)?t(a):void 0,"aria-labelledby":w.range&&t(ae)?(pe=t(r))==null?void 0:pe.labelId:void 0,onTouchstart:le[2]||(le[2]=(...H)=>t(B)&&t(B)(...H)),onTouchmove:le[3]||(le[3]=(...H)=>t(B)&&t(B)(...H))},[h("div",{ref_key:"slider",ref:f,class:P([t(m).e("runway"),{"show-input":w.showInput&&!w.range},t(m).is("disabled",t(d))]),style:ie(t(E)),onMousedown:le[0]||(le[0]=(...H)=>t(M)&&t(M)(...H)),onTouchstart:le[1]||(le[1]=(...H)=>t(M)&&t(M)(...H))},[h("div",{class:P(t(m).e("bar")),style:ie(t(U))},null,6),$(qe,{id:w.range?void 0:t(ee),ref_key:"firstButton",ref:s,"model-value":t(b),vertical:w.vertical,"tooltip-class":w.tooltipClass,placement:w.placement,role:"slider","aria-label":w.range||!t(ae)?t(v):void 0,"aria-labelledby":!w.range&&t(ae)?(Re=t(r))==null?void 0:Re.labelId:void 0,"aria-valuemin":w.min,"aria-valuemax":w.range?t(A):w.max,"aria-valuenow":t(b),"aria-valuetext":t(I),"aria-orientation":w.vertical?"vertical":"horizontal","aria-disabled":t(d),"onUpdate:modelValue":t(o)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),w.range?(y(),j(qe,{key:0,ref_key:"secondButton",ref:g,"model-value":t(A),vertical:w.vertical,"tooltip-class":w.tooltipClass,placement:w.placement,role:"slider","aria-label":t(C),"aria-valuemin":t(b),"aria-valuemax":w.max,"aria-valuenow":t(A),"aria-valuetext":t(z),"aria-orientation":w.vertical?"vertical":"horizontal","aria-disabled":t(d),"onUpdate:modelValue":t(V)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):X("v-if",!0),w.showStops?(y(),T("div",hl,[(y(!0),T(ge,null,Ne(t(D),(H,he)=>(y(),T("div",{key:he,class:P(t(m).e("stop")),style:ie(t(Q)(H))},null,6))),128))])):X("v-if",!0),t(R).length>0?(y(),T(ge,{key:2},[h("div",null,[(y(!0),T(ge,null,Ne(t(R),(H,he)=>(y(),T("div",{key:he,style:ie(t(Q)(H.position)),class:P([t(m).e("stop"),t(m).e("marks-stop")])},null,6))),128))]),h("div",{class:P(t(m).e("marks"))},[(y(!0),T(ge,null,Ne(t(R),(H,he)=>(y(),j(t(fl),{key:he,mark:H.mark,style:ie(t(Q)(H.position))},null,8,["mark","style"]))),128))],2)],64)):X("v-if",!0)],38),w.showInput&&!w.range?(y(),j(t(Xt),{key:0,ref:"input","model-value":t(b),class:P(t(m).e("input")),step:w.step,disabled:t(d),controls:w.showInputControls,min:w.min,max:w.max,debounce:w.debounce,size:t(x),"onUpdate:modelValue":t(o),onChange:t(F)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):X("v-if",!0)],42,pl)}}});var yl=Pe(bl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const Vl=Me(yl),_l=we({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Ye},inactiveIcon:{type:Ye},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:ve(Function)},size:{type:String,validator:xt},tabindex:{type:[String,Number]}}),wl={[G]:e=>Ee(e)||fe(e)||W(e),[ue]:e=>Ee(e)||fe(e)||W(e),[ne]:e=>Ee(e)||fe(e)||W(e)},Sl=["onClick"],kl=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Il=["aria-hidden"],Nl=["aria-hidden"],El=["aria-hidden"],Le="ElSwitch",Cl=J({name:Le}),Pl=J({...Cl,props:_l,emits:wl,setup(e,{expose:l,emit:i}){const n=e,m=bt(),{formItem:u}=Fe(),c=Ke(),r=Se("switch");Lt({from:'"value"',replacement:'"model-value" or "v-model"',scope:Le,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},_(()=>{var o;return!!((o=m.vnode.props)!=null&&o.value)}));const{inputId:f}=Ze(n,{formItemContext:u}),s=Qe(_(()=>n.loading)),g=q(n.modelValue!==!1),d=q(),N=q(),p=_(()=>[r.b(),r.m(c.value),r.is("disabled",s.value),r.is("checked",k.value)]),E=_(()=>({width:ht(n.width)}));re(()=>n.modelValue,()=>{g.value=!0}),re(()=>n.value,()=>{g.value=!1});const U=_(()=>g.value?n.modelValue:n.value),k=_(()=>U.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(U.value)||(i(G,n.inactiveValue),i(ue,n.inactiveValue),i(ne,n.inactiveValue)),re(k,o=>{var V;d.value.checked=o,n.validateEvent&&((V=u==null?void 0:u.validate)==null||V.call(u,"change").catch(D=>Ve()))});const F=()=>{const o=k.value?n.inactiveValue:n.activeValue;i(G,o),i(ue,o),i(ne,o),_e(()=>{d.value.checked=k.value})},B=()=>{if(s.value)return;const{beforeChange:o}=n;if(!o){F();return}const V=o();[Oe(V),Ee(V)].includes(!0)||je(Le,"beforeChange must return type `Promise<boolean>` or `boolean`"),Oe(V)?V.then(Q=>{Q&&F()}).catch(Q=>{}):V&&F()},Y=_(()=>r.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})),M=()=>{var o,V;(V=(o=d.value)==null?void 0:o.focus)==null||V.call(o)};return Ce(()=>{d.value.checked=k.value}),l({focus:M,checked:k}),(o,V)=>(y(),T("div",{class:P(t(p)),style:ie(t(Y)),onClick:ye(B,["prevent"])},[h("input",{id:t(f),ref_key:"input",ref:d,class:P(t(r).e("input")),type:"checkbox",role:"switch","aria-checked":t(k),"aria-disabled":t(s),name:o.name,"true-value":o.activeValue,"false-value":o.inactiveValue,disabled:t(s),tabindex:o.tabindex,onChange:F,onKeydown:de(B,["enter"])},null,42,kl),!o.inlinePrompt&&(o.inactiveIcon||o.inactiveText)?(y(),T("span",{key:0,class:P([t(r).e("label"),t(r).em("label","left"),t(r).is("active",!t(k))])},[o.inactiveIcon?(y(),j(t(me),{key:0},{default:se(()=>[(y(),j(Te(o.inactiveIcon)))]),_:1})):X("v-if",!0),!o.inactiveIcon&&o.inactiveText?(y(),T("span",{key:1,"aria-hidden":t(k)},Z(o.inactiveText),9,Il)):X("v-if",!0)],2)):X("v-if",!0),h("span",{ref_key:"core",ref:N,class:P(t(r).e("core")),style:ie(t(E))},[o.inlinePrompt?(y(),T("div",{key:0,class:P(t(r).e("inner"))},[o.activeIcon||o.inactiveIcon?(y(),j(t(me),{key:0,class:P(t(r).is("icon"))},{default:se(()=>[(y(),j(Te(t(k)?o.activeIcon:o.inactiveIcon)))]),_:1},8,["class"])):o.activeText||o.inactiveText?(y(),T("span",{key:1,class:P(t(r).is("text")),"aria-hidden":!t(k)},Z(t(k)?o.activeText:o.inactiveText),11,Nl)):X("v-if",!0)],2)):X("v-if",!0),h("div",{class:P(t(r).e("action"))},[o.loading?(y(),j(t(me),{key:0,class:P(t(r).is("loading"))},{default:se(()=>[$(t(gt))]),_:1},8,["class"])):X("v-if",!0)],2)],6),!o.inlinePrompt&&(o.activeIcon||o.activeText)?(y(),T("span",{key:1,class:P([t(r).e("label"),t(r).em("label","right"),t(r).is("active",t(k))])},[o.activeIcon?(y(),j(t(me),{key:0},{default:se(()=>[(y(),j(Te(o.activeIcon)))]),_:1})):X("v-if",!0),!o.activeIcon&&o.activeText?(y(),T("span",{key:1,"aria-hidden":!t(k)},Z(o.activeText),9,El)):X("v-if",!0)],2)):X("v-if",!0)],14,Sl))}});var Tl=Pe(Pl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const $l=Me(Tl),Bl="/ai.svg",xl=e=>Tt.request("post","/my/chat",{data:e});let Ll;const tt=yt("chatAi",{state:()=>({disable:!1,Temperature:.9,MaxLength:150,TopP:1,frequencyPenalty:0,presencePenalty:.6,local:!0,timer:Ll,prompt:["AI: I am an AI. How can I help you today?(Recommended language: English)"],theme:"light"}),getters:{getChat:e=>e.prompt},actions:{async submitChat(e){if(this.local)this.localChat(e);else{const l="Human:"+e;this.prompt.push(l);const i={Temperature:this.Temperature,MaxLength:this.MaxLength,TopP:this.TopP,frequencyPenalty:this.frequencyPenalty,presencePenalty:this.presencePenalty,prompt:this.prompt};this.prompt.length>60&&(this.prompt=this.prompt.slice(-30)),xl(i).then(n=>{if(n.status==0){const m=this.prompt.length;this.prompt.push(n.chat[0]);let u=1;this.timer=setInterval(()=>{this.prompt[m]+=n.chat[u++],this.prompt[m].length===n.chat.length&&clearInterval(this.timer)},20)}else this.prompt.push(n.message)},n=>{this.prompt.push(n.message)})}},async localChat(e){let l=0;this.prompt.push(e);const i=[];this.prompt.forEach(c=>{l++%2==0?i.push({role:"assistant",content:c.slice(0,6)}):i.push({role:"user",content:c.slice(6,c.length)})});const n=JSON.stringify({messages:i,tokensLength:this.MaxLength,model:"gpt-3.5-turbo"}),m={headers:{Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8","Content-Type":"application/json"}},u="https://api.aioschat.com/";$t.post(u,n,{...m}).then(c=>{const r=c.data.choices[0].text||"",f=this.prompt.length;this.prompt.push(r[0]);let s=1;this.timer=setInterval(()=>{this.prompt[f]+=r[s++],this.prompt[f].length===r.length&&clearInterval(this.timer)},20)}).catch(c=>{this.prompt.push(c.message)})},undoAiChat(){this.prompt.length>2&&(clearInterval(this.timer),this.prompt=this.prompt.slice(0,this.prompt.length-2),console.log(this.prompt))},clear(){clearInterval(this.timer),this.prompt=["AI: I am an AI. How can I help you today?(Recommended language: English)"]},setLocal(e){this.local=e},setTheme(e){const l=["light","dark"];this.theme=l.includes(e)?e:"light"}}});const Al={class:"setting"},Ml={style:{display:"flex","justify-content":"space-between"}},zl={class:"slider-demo-block spacing"},Fl={class:"illustrate"},Kl=["illustrate"],Rl={class:"slider-demo-block spacing"},Ul={class:"illustrate"},Yl=["illustrate"],Ol={class:"slider-demo-block spacing"},Xl={class:"illustrate"},Wl=["illustrate"],ql={class:"slider-demo-block spacing"},Hl={class:"illustrate"},jl=["illustrate"],Gl={class:"slider-demo-block spacing"},Jl={class:"illustrate"},Ql=["illustrate"],Zl=J({__name:"chatSetting",setup(e){const l=tt(),i=q(l.local),n=q(l.theme);function m(){l.setTheme(n.value)}function u(){l.setLocal(i.value)}function c(){l.undoAiChat()}function r(){l.clear()}return(f,s)=>{const g=$l,d=Je,N=Vl;return y(),T("div",Al,[h("div",Ml,[$(g,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=p=>n.value=p),class:"mt-2","active-value":"light","inactive-value":"dark",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":t(Vt),"inactive-icon":t(_t),size:"large",change:m()},null,8,["modelValue","active-icon","inactive-icon","change"]),$(d,{type:"info",icon:t(wt),circle:"",onClick:s[1]||(s[1]=p=>c())},null,8,["icon"]),$(g,{modelValue:i.value,"onUpdate:modelValue":s[2]||(s[2]=p=>i.value=p),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-text":"local",size:"large",change:u()},null,8,["modelValue","change"]),$(d,{type:"info",icon:t(St),circle:"",onClick:s[3]||(s[3]=p=>r())},null,8,["icon"])]),h("div",zl,[h("div",Fl,[h("span",{class:"demonstration",illustrate:f.$t("illustrate[0]")},"Temperature: "+Z(t(l).Temperature),9,Kl)]),$(N,{modelValue:t(l).Temperature,"onUpdate:modelValue":s[4]||(s[4]=p=>t(l).Temperature=p),max:1,step:.01},null,8,["modelValue","step"])]),h("div",Rl,[h("div",Ul,[h("span",{class:"demonstration",illustrate:f.$t("illustrate[1]")},"Maximum length: "+Z(t(l).MaxLength),9,Yl)]),$(N,{modelValue:t(l).MaxLength,"onUpdate:modelValue":s[5]||(s[5]=p=>t(l).MaxLength=p),max:4e3,step:1},null,8,["modelValue"])]),h("div",Ol,[h("div",Xl,[h("span",{class:"demonstration",illustrate:f.$t("illustrate[2]")},"Top P: "+Z(t(l).TopP),9,Wl)]),$(N,{modelValue:t(l).TopP,"onUpdate:modelValue":s[6]||(s[6]=p=>t(l).TopP=p),max:1,step:.01},null,8,["modelValue","step"])]),h("div",ql,[h("div",Hl,[h("span",{class:"demonstration",illustrate:f.$t("illustrate[3]")},"Frequency penalty: "+Z(t(l).frequencyPenalty),9,jl)]),$(N,{modelValue:t(l).frequencyPenalty,"onUpdate:modelValue":s[7]||(s[7]=p=>t(l).frequencyPenalty=p),max:2,step:.01},null,8,["modelValue","step"])]),h("div",Gl,[h("div",Jl,[h("span",{class:"demonstration",illustrate:f.$t("illustrate[4]")},"Presence penalty: "+Z(t(l).presencePenalty),9,Ql)]),$(N,{modelValue:t(l).presencePenalty,"onUpdate:modelValue":s[8]||(s[8]=p=>t(l).presencePenalty=p),max:2,step:.01},null,8,["modelValue","step"])])])}}});const lt=ze(Zl,[["__scopeId","data-v-575fc3ba"]]),Dl=e=>(Nt("data-v-5ac3408a"),e=e(),Et(),e),en={class:"chat",style:{width:"100%"},id:"chat"},tn=["id"],ln={class:"img-icon"},nn=Dl(()=>h("img",{src:Bl,alt:"",class:"avatar"},null,-1)),an=[nn],sn={class:"chat-content-a"},on=["id"],rn={class:"human-chat"},un={class:"chat-content-h"},cn={class:"img-icon"},dn=["src"],mn={class:"input"},vn={class:"menu"},fn={class:"human-input"},pn={class:"submit"},hn=J({__name:"chatAi",setup(e){const l=q(!1),i=q(""),n=Bt(),m=q(!1),u=tt();u.$subscribe((f,s)=>{s.prompt.length%2!==0&&(l.value=!1);let g=document.getElementById("chat");g!=null&&(g.scrollTop=g.scrollHeight)});function c(){m.value=!0}function r(){l.value=!0,u.submitChat(i.value),i.value=""}return Ce(()=>{n.getBaseInfo()}),(f,s)=>{const g=Je,d=Ge,N=Ct;return y(),T("div",{class:P(t(u).theme=="light"?"chat-light":"chat-dark")},[h("div",en,[(y(!0),T(ge,null,Ne(t(u).prompt,(p,E)=>(y(),T("div",{key:E},[h("div",{style:{display:"flex"},id:`chat-${E}`},[ce(h("div",ln,an,512),[[Ie,E%2===0]]),ce(h("div",{class:P(t(u).theme=="light"?"ai-light":"ai-dark")},[h("span",sn,Z(p),1)],2),[[Ie,E%2===0]])],8,tn),h("div",{style:{display:"flex",float:"right"},id:`chat-${E}`},[ce(h("div",rn,[h("span",un,Z(p),1)],512),[[Ie,E%2===1]]),ce(h("div",cn,[h("img",{src:t(n).avatarLink,alt:"",class:"avatar"},null,8,dn)],512),[[Ie,E%2===1]])],8,on)]))),128))]),h("div",mn,[h("div",vn,[$(g,{type:"success",icon:t(kt),circle:"",onClick:s[0]||(s[0]=p=>c())},null,8,["icon"])]),h("div",fn,[$(d,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=p=>i.value=p),autosize:{minRows:1,maxRows:3},type:"textarea",maxlength:"900",placeholder:"Please input and Ctrl + enter to send",onKeyup:s[2]||(s[2]=de(ye(p=>r(),["ctrl","exact"]),["enter"])),"show-word-limit":""},null,8,["modelValue"])]),h("div",pn,[$(g,{type:"primary",icon:t(It),circle:"",onClick:s[3]||(s[3]=p=>r()),disabled:l.value},null,8,["icon","disabled"])])]),$(N,{ref:"drawerRef",modelValue:m.value,"onUpdate:modelValue":s[4]||(s[4]=p=>m.value=p),title:f.$t("setting"),direction:"ltr",size:"70%",class:"demo-drawer"},{default:se(()=>[$(lt)]),_:1},8,["modelValue","title"])],2)}}});const gn=ze(hn,[["__scopeId","data-v-5ac3408a"]]),bn={class:"chat"},yn={class:"chat-ai"},Vn={class:"chat-setting"},_n={class:"tools"},wn=J({__name:"chatG",setup(e){return(l,i)=>(y(),T("div",bn,[h("div",yn,[$(gn)]),h("div",Vn,[$(lt)]),h("div",_n,[$(Pt)])]))}});const Ln=ze(wn,[["__scopeId","data-v-4d1681a9"]]);export{Ln as default};
